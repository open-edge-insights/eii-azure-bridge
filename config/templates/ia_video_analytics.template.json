{
    "ia_video_analytics": {
        "version": "1.0",
        "type": "docker",
        "status": "running",
        "restartPolicy": "always",
        "settings": {
            "image": "${DOCKER_REGISTRY}ia_video_analytics:$EIS_VERSION",
            "createOptions": {
                "Hostname": "ia_video_analytics",
                "Env": [
                    "AppName=VideoAnalytics",
                    "DEV_MODE=$DEV_MODE",
                    "PROFILING_MODE=$PROFILING_MODE",
                    "no_proxy=localhost,127.0.0.1,$ETCD_HOST",
                    "ETCD_HOST=$ETCD_HOST",
                    "ETCD_PREFIX=${ETCD_PREFIX}",
                    "C_LOG_LEVEL=INFO",
                    "CertType=zmq",
                    "PUBLISHER_ENDPOINT=0.0.0.0:65013",
                    "AML_TENANT_ID=$AML_TENANT_ID",
                    "AML_PRINCIPAL_ID=$AML_PRINCIPAL_ID",
                    "AML_PRINCIPAL_PASS=$AML_PRINCIPAL_PASS"
                ],
                "Volumes": {
                    "/opt/Intel/OpenCL/Boards": {},
                    "/dev": {},
                    "/EIS/sockets": {},
                    "/var/tmp": {},
                    "/opt/altera": {},
                    "/opt/intel/intelFPGA": {}
                },
                "NetworkingConfig": {
                    "EndpointsConfig": {
                        "host": {}
                    }
                },
                "HostConfig": {
                    "Privileged": true,
                    "NetworkMode": "host",
                    "Devices": [
                        {
                            "PathOnHost": "/dev/dri",
                            "PathInContainer": "/dev/dri",
                            "CgroupPermissions": "rwm"
                        },
                        {
                            "PathOnHost": "/dev/",
                            "PathInContainer": "/dev/",
                            "CgroupPermissions": "rwm"
                        },
                        {
                            "PathOnHost": "/dev/acla10_1150_sg10",
                            "PathInContainer": "/dev/acla10_1150_sg10",
                            "CgroupPermissions": "rwm"
                        },
                        {
                            "PathOnHost": "/dev/ion",
                            "PathInContainer": "/dev/ion",
                            "CgroupPermissions": "rwm"
                        }
                    ],
                    "Binds": [
                        "/opt/Intel/OpenCL/Boards:/opt/Intel/OpenCL/Boards:rw",
                        "/dev:/dev:rw",
                        "$EIS_INSTALL_PATH/sockets:/EIS/sockets:rw",
                        "/var/tmp:/var/tmp:rw",
                        "/opt/altera:/opt/altera:rw",
                        "/opt/intel/intelFPGA:/opt/intel/intelFPGA:rw"
                    ],
                    "LogConfig": {
                        "Type": "",
                        "Config": {}
                    },
                    "Mounts": [
                        {
                            "Target": "/run/secrets/ca_etcd",
                            "Source": "$EIS_CERTIFICATES/ca/ca_certificate.pem",
                            "Type": "bind",
                            "ReadOnly": true
                        },
                        {
                            "Target": "/run/secrets/etcd_VideoAnalytics_cert",
                            "Source": "$EIS_CERTIFICATES/VideoAnalytics/VideoAnalytics_client_certificate.pem",
                            "Type": "bind",
                            "ReadOnly": true
                        },
                        {
                            "Target": "/run/secrets/etcd_VideoAnalytics_key",
                            "Source": "$EIS_CERTIFICATES/VideoAnalytics/VideoAnalytics_client_key.pem",
                            "Type": "bind",
                            "ReadOnly": true
                        }
                    ]
                }
            }
        }
    }
}
